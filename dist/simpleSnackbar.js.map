{"version":3,"file":"simpleSnackbar.js","sources":["../src/simpleSnackbar.js"],"sourcesContent":["/*\n * simpleSnackbar.js v1.0.0\n * https://github.com/tomhrtly/simpleSnackbar.js\n *\n * Copyright 2019 Tom Hartley\n * Released under the MIT license\n *\n * Icons provided by Font Awesome: https://fontawesome.com\n */\n\nclass simpleSnackbar {\n    constructor(message, options) {\n        this.id = Math.floor(Math.random() * 1000000);\n        this.message = message;\n\n        this.defaults = {\n            autohide: true,\n            icons: {\n                success: '<svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"check-circle\" class=\"svg-inline--fa fa-check-circle fa-w-16\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"currentColor\" d=\"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z\"></path></svg>',\n                info: '<svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"info-circle\" class=\"svg-inline--fa fa-info-circle fa-w-16\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"currentColor\" d=\"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z\"></path></svg>',\n                warning: '<svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"exclamation-circle\" class=\"svg-inline--fa fa-exclamation-circle fa-w-16\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"currentColor\" d=\"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z\"></path></svg>',\n                danger: '<svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"times-circle\" class=\"svg-inline--fa fa-times-circle fa-w-16\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"currentColor\" d=\"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z\"></path></svg>',\n            },\n            type: 'default',\n            transitionSpeed: 250,\n        };\n        this.options = simpleSnackbar.extend(this.defaults, options);\n\n        this.timer = null;\n\n        if (!document.querySelector('.ss-snackbars')) {\n            const snackbars = document.createElement('div');\n            snackbars.classList.add('ss-snackbars');\n            snackbars.setAttribute('aria-live', 'polite');\n            snackbars.setAttribute('aria-atomic', 'true');\n\n            document.querySelector('body').append(snackbars);\n        }\n\n        this.init();\n    }\n\n    events() {\n        const snackbar = document.querySelector(`.ss-snackbar[data-id=\"${this.id}\"`);\n        let pause = false;\n\n        document.addEventListener('visibilitychange', () => {\n            pause = document.visibilityState !== 'visible';\n        });\n\n        snackbar.addEventListener('mouseenter', () => { pause = true; });\n        snackbar.addEventListener('mouseleave', () => { pause = false; });\n        snackbar.addEventListener('focusin', () => { pause = true; });\n        snackbar.addEventListener('focusout', () => { pause = false; });\n\n        snackbar.querySelector('.ss-close').addEventListener('click', () => {\n            this.hide();\n        });\n\n        if (this.options.autohide) {\n            if (this.timer) {\n                clearInterval(this.timer);\n            }\n\n            this.timer = setInterval(() => {\n                if (!pause) {\n                    this.hide();\n                }\n            }, 5000);\n        }\n\n        snackbar.onfocus = () => {\n            if (document.activeElement === snackbar) {\n                document.onkeyup = (e) => {\n                    if (e.key === 'Escape') {\n                        this.hide();\n                    }\n                };\n            }\n        };\n\n        snackbar.onblur = () => {\n            document.onkeyup = () => {};\n        };\n    }\n\n    hide() {\n        const snackbar = document.querySelector(`.ss-snackbar[data-id=\"${this.id}\"`);\n\n        snackbar.classList.remove('ss-snackbar-active');\n        setTimeout(() => {\n            snackbar.style.display = 'none';\n        }, this.options.transitionSpeed);\n\n        return this;\n    }\n\n    icon() {\n        if (this.options.type !== 'default') {\n            const snackbar = document.querySelector(`.ss-snackbar[data-id=\"${this.id}\"`);\n            const icon = document.createElement('div');\n\n            icon.classList.add('ss-snackbar-icon');\n            icon.innerHTML = `<span class=\"ss-icon\">${this.options.icons[this.options.type]}</span>`;\n\n            snackbar.prepend(icon);\n        }\n    }\n\n    init() {\n        const snackbars = document.querySelector('.ss-snackbars');\n        const snackbar = document.createElement('div');\n        const close = document.createElement('button');\n\n        snackbar.classList.add('ss-snackbar');\n        snackbar.setAttribute('tabindex', '0');\n        snackbar.setAttribute('role', 'alert');\n        snackbar.setAttribute('aria-live', 'assertive');\n        snackbar.setAttribute('aria-atomic', 'true');\n        snackbar.setAttribute('data-id', this.id.toString());\n        snackbar.classList.add(`ss-snackbar-${this.options.type}`);\n        snackbar.style.transition = `all ${this.options.transitionSpeed}ms ease-in-out 0s`;\n        snackbar.innerHTML = `<div class=\"ss-snackbar-body\">${this.message}</div>`;\n\n        close.classList.add('ss-close');\n        close.innerHTML = '<span class=\"ss-icon\"><svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"times\" class=\"svg-inline--fa fa-times fa-w-11\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 352 512\"><path fill=\"currentColor\" d=\"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z\"></path></svg></span>';\n\n        snackbar.append(close);\n        snackbars.prepend(snackbar);\n\n        this.icon();\n    }\n\n    show() {\n        const snackbar = document.querySelector(`.ss-snackbar[data-id=\"${this.id}\"`);\n\n        snackbar.style.display = '';\n        setTimeout(() => {\n            snackbar.classList.add('ss-snackbar-active');\n        }, 100);\n\n        this.events();\n\n        return this;\n    }\n\n    toggle() {\n        const snackbar = document.querySelector(`.ss-snackbar[data-id=\"${this.id}\"`);\n\n        if (snackbar.classList.contains('ss-snackbar-active')) {\n            this.hide();\n        } else {\n            this.show();\n        }\n\n        return this;\n    }\n\n    static extend(defaults, options) {\n        const extended = {};\n\n        if (defaults) {\n            const keys = Object.keys(defaults);\n\n            keys.forEach((value) => {\n                if (Object.prototype.hasOwnProperty.call(defaults, value)) {\n                    extended[value] = defaults[value];\n                }\n            });\n        }\n\n        if (options) {\n            const keys = Object.keys(options);\n\n            keys.forEach((value) => {\n                if (Object.prototype.hasOwnProperty.call(options, value)) {\n                    extended[value] = options[value];\n                }\n            });\n        }\n\n        return extended;\n    }\n}\n\nexport default simpleSnackbar;\n"],"names":["simpleSnackbar","message","options","id","Math","floor","random","defaults","autohide","icons","success","info","warning","danger","type","transitionSpeed","extend","timer","document","querySelector","snackbars","createElement","classList","add","setAttribute","append","init","snackbar","pause","addEventListener","visibilityState","hide","clearInterval","setInterval","onfocus","activeElement","onkeyup","e","key","onblur","remove","setTimeout","style","display","icon","innerHTML","prepend","close","toString","transition","events","contains","show","extended","keys","Object","forEach","value","prototype","hasOwnProperty","call"],"mappings":"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"}